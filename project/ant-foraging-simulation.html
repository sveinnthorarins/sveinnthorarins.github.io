<!DOCTYPE html><html><head><meta name="viewport" content="width=device-width"/><meta charSet="utf-8"/><title>Ant Foraging Simulation - Sveinn Thorarinsson</title><meta name="description" content="An ant foraging simulation where the ants use pheromones to help each other find food and find their way home."/><link rel="icon" href="/favicon.ico"/><meta name="next-head-count" content="5"/><link rel="preload" href="/_next/static/css/a33d15f3ef184a0bca86.css" as="style"/><link rel="stylesheet" href="/_next/static/css/a33d15f3ef184a0bca86.css" data-n-g=""/><link rel="preload" href="/_next/static/css/e9d2008c10717e193eb3.css" as="style"/><link rel="stylesheet" href="/_next/static/css/e9d2008c10717e193eb3.css" data-n-p=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-a54b4f32bdc1ef890ddd.js"></script><script src="/_next/static/chunks/webpack-ddd010a953737b6e3536.js" defer=""></script><script src="/_next/static/chunks/framework-b97a0ed4f13ff8397343.js" defer=""></script><script src="/_next/static/chunks/main-0dfe18e4d4c1ecc03a25.js" defer=""></script><script src="/_next/static/chunks/pages/_app-3938ef1239037d6d9f8d.js" defer=""></script><script src="/_next/static/chunks/581-eede613a34575ac948ab.js" defer=""></script><script src="/_next/static/chunks/pages/project/ant-foraging-simulation-39a9aa113a9fe111db3c.js" defer=""></script><script src="/_next/static/AcIFAt5rZxeLoIEuAn430/_buildManifest.js" defer=""></script><script src="/_next/static/AcIFAt5rZxeLoIEuAn430/_ssgManifest.js" defer=""></script></head><body><div id="__next"><div><main><section class="projectlayout_project__2x_aR"><div style="text-align:left"><a class="projectlayout_backlink__3VqZG" href="/#projects"><svg viewBox="0 0 20 15"><path d="M 7 1 L 1 8 M 1 8 L 7 14"></path></svg><span>Back to homepage</span></a></div><section class="textsection_textsectioncontainer__2U_Bc"><div class="textsection_textsection__1yldr"><p class="title_title__Krmf8">Ant Foraging Simulation</p><div class="projectlayout_languages__16JOB"><div class="projectlayout_language__1HuGr projectlayout_typescript__U5g9n">TypeScript</div><div class="projectlayout_language__1HuGr projectlayout_pixijs__XUCxZ">PixiJS</div><div class="projectlayout_language__1HuGr projectlayout_html__1ly3q">HTML</div><div class="projectlayout_language__1HuGr projectlayout_css__fYiCT">CSS</div></div><div class="projectlayout_info__vEdsT"><a href="https://sveinnthorarins.github.io/ant-simulation" target="_blank" rel="noreferrer">Live demo</a><a href="https://github.com/sveinnthorarins/ant-simulation" target="_blank" rel="noreferrer">GitHub repo</a></div><p class="text_text__3-FPX">This project is a web visualization of an ant foraging simulation where the ants use pheromones to help each other find food and find their way home. The simulation logic is entirely coded from scratch, including all the physics and movement logic. The visualization consists of the map (dark area is out of bounds), the anthill, 60 ants and three types of circular particles.</p><p class="heading_heading__3eRAz">Particle types</p><p class="text_text__3-FPX">The green particles are food, while the blue and orange ones are pheromones. The ants lay down blue particles as they wander away from their anthill. Ants carrying food can use these blue particles to guide their way home. Similarly, the ants lay down orange particles as they pick up food and carry it away. Ants looking for food can use these orange particles to help them find it. The pheromones diffuse over time, indicated by their particles getting larger and more transparent, until they&#x27;ve fully evaporated and disappear.</p><div style="max-height:5em;margin:0 -0.2em;display:flex;justify-content:space-evenly"><div style="max-width:7.5em;max-height:5em;margin:0 0.2em;border-radius:1.5em;overflow:hidden"><img style="width:100%;height:100%" src="/_next/static/images/greenparticles-4ed8613e7cad3eae1351e0b155168ac9.jpg" alt="Green food particles"/></div><div style="max-width:7.5em;max-height:5em;margin:0 0.2em;border-radius:1.5em;overflow:hidden"><img style="width:100%;height:100%" src="/_next/static/images/blueparticles-29308091e3c5ba0eb82374c3494f63ac.jpg" alt="Blue pheromone particles"/></div><div style="max-width:7.5em;max-height:5em;margin:0 0.2em;border-radius:1.5em;overflow:hidden"><img style="width:100%;height:100%" src="/_next/static/images/orangeparticles-35bc2a0458d48ca1149f538fed8ea296.jpg" alt="Orange pheromone particles"/></div></div><p class="heading_heading__3eRAz">Interactivity</p><p class="text_text__3-FPX">Three elements of the simulation can be interacted with; the map, the anthill and the food. The map can be changed with an erase brush and a pencil. The anthill can be moved to another location. Lastly, the user can spawn in food before the simulation begins. If no food has been added when the simulation starts, it will automatically spawn the maximum amount of food in random locations.</p><p class="heading_heading__3eRAz">Idea and technology</p><p class="text_text__3-FPX">I became instantly inspired to make this project after stumbling upon a few YouTube videos of different ant simulations people had created. None of the simulations displayed in the YouTube videos were accessible to the viewers, they were all closed-source and programmed as a desktop program or using a game engine. This motivated me even more and I knew I wanted my simulation visualization to be an interactive website, accessible to everyone.</p><p class="text_text__3-FPX">After carefully comparing all the web rendering libraries out there I decided on using <a href="https://pixijs.com/" target="_blank" rel="noreferrer">PixiJS</a>. Since I had never worked with the library before and had no idea how it worked I decided to code the project in TypeScript and use NodeJS for the development repository. This way I could install PixiJS as an npm package, import it into my project and get the sweet IntelliSense and TypeScript typing to help me out. I then used Rollup to bundle together the compiled TypeScript code into one JavaScript bundle that the HTML page can easily link to.</p><p class="heading_heading__3eRAz">Biggest challenges</p><p class="text_text__3-FPX">Making a large visualization project using a rendering library I&#x27;ve never seen before was definitely a challenge. However, I&#x27;m a fast learner and I can&#x27;t help but feel that the whole process went extremely well. Probably in large part due to the fact that <a href="https://pixijs.com/" target="_blank" rel="noreferrer">PixiJS</a> has great documentation and active forums with all sorts of tips. The most challenging part with regards to rendering was making sure it was performant since the total number of particles at any given time in the simulation can be up to 25000.</p><p class="text_text__3-FPX">The ants&#x27; movement logic was one of the biggest challenges and is very cleverly coded. Each ant samples three circular areas in front of it for the pheromones it&#x27;s looking for. Looping over all the thousands of pheromones and checking if they were in a particular area proved to be too slow. To solve this I implemented a grid system where the whole map is divided into a grid (rows and columns). Each entry in the grid then has its own data structure and contains the pheromones that are placed within that segment of the map. This allows us to loop only over the pheromones in the grid segments that the sampling area covers.</p><p class="text_text__3-FPX">The ant then goes in the direction of the sampling area that contains the strongest concentration of pheromones (they lose strength over time as they diffuse). If no pheromones are found in the sampled areas the ant simply wanders forward randomly. Also, the ant does not consider sampling areas that are out of bounds. If all the forward areas are out of bounds the ant will instead sample areas to its left, right and backwards. If none of those areas contain pheromones the ant will turn randomly to one of those areas, to prevent it from going forward and out of bounds.</p><p class="text_text__3-FPX">Lastly, the ant is equipped with a vision radius. When a food particle is inside that radius the ant is able to walk directly towards it and pick it up. Similarly, when the anthill is within the vision radius the ant is able to walk directly towards it and return the food it carries.</p><div style="max-height:5em;margin:0 -0.2em;display:flex;justify-content:space-evenly"><div style="max-width:7.5em;max-height:5em;margin:0 0.2em;border-radius:1.5em;overflow:hidden"><img style="width:100%;height:100%" src="/_next/static/images/antsensors-eb96abae1713e86468c0db2e3c035114.jpg" alt="Ant sensors"/></div><div style="max-width:7.5em;max-height:5em;margin:0 0.2em;border-radius:1.5em;overflow:hidden"><img style="width:100%;height:100%" src="/_next/static/images/antcircle-43752e16dce4f82f2f2349eb4915f5c3.jpg" alt="Ant vision range"/></div><div style="max-width:7.5em;max-height:5em;margin:0 0.2em;border-radius:1.5em;overflow:hidden"><img style="width:100%;height:100%" src="/_next/static/images/antcircleandsensors-788bdae9b5102da85a02d3ddad7ccfb6.jpg" alt="Ant vision range and sensors"/></div></div></div></section><section class="footer_wrapper__M7ofT"><div class="footer_spacing__3bbYq"></div><svg viewBox="0 0 100 102" preserveAspectRatio="none" class="footer_svg__23JFU"><path stroke="white" fill="white" d="M0 0 L50 100 L100 0 Z"></path></svg><div class="footer_footercontainer__3nphR"><div class="footer_footer__2j_Fr"><div class="socials_hsocials__3Y0Y_"><a class="socials_button__1h5eF" href="https://github.com/sveinnthorarins" target="_blank" rel="noreferrer" aria-label="github"><svg aria-hidden="true" viewBox="0 0 16 16" width="100%" height="100%"><path style="fill-rule:evenodd" d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0016 8c0-4.42-3.58-8-8-8z"></path></svg></a><a class="socials_button__1h5eF" href="https://www.linkedin.com/in/sveinn-%C3%BE%C3%B3rarinsson-b7a63120a/" target="_blank" rel="noreferrer" aria-label="linkedin"><svg aria-hidden="true" viewBox="0 0 34 34" width="100%" height="100%"><path d="M34,2.5v29A2.5,2.5,0,0,1,31.5,34H2.5A2.5,2.5,0,0,1,0,31.5V2.5A2.5,2.5,0,0,1,2.5,0h29A2.5,2.5,0,0,1,34,2.5ZM10,13H5V29h5Zm.45-5.5A2.88,2.88,0,0,0,7.59,4.6H7.5a2.9,2.9,0,0,0,0,5.8h0a2.88,2.88,0,0,0,2.95-2.81ZM29,19.28c0-4.81-3.06-6.68-6.1-6.68a5.7,5.7,0,0,0-5.06,2.58H17.7V13H13V29h5V20.49a3.32,3.32,0,0,1,3-3.58h.19c1.59,0,2.77,1,2.77,3.52V29h5Z"></path></svg></a><a class="socials_button__1h5eF" href="https://www.facebook.com/profile.php?id=1661051195" target="_blank" rel="noreferrer" aria-label="facebook"><svg aria-hidden="true" viewBox="0 0 269 269" width="100%" height="100%"><path d="M 124.75 1.525 c -21.925 1.65 -43.475 8.75 -61.5 20.275 c -14.2 9.075 -26.1 20.125 -35.975 33.425 c -23.675 31.85 -31.85 72.85 -22.25 111.525 c 4.9 19.8 14 37.625 27.5 53.875 c 2.8 3.4 12.675 13.225 16.225 16.15 c 17.45 14.475 37.325 24.075 58.975 28.475 c 2.7 0.55 5.1 1 5.35 1 c 0.4 0 0.425 -2.7 0.425 -46.5 l 0 -46.5 l -16.875 0 l -16.875 0 l 0 -19.375 l 0 -19.375 l 16.875 0 l 16.875 0 l 0 -15.575 c 0 -8.55 0.125 -17.125 0.25 -19.05 c 1.075 -14.475 5.825 -25.65 14.4 -33.85 c 7 -6.675 15.95 -10.675 27.6 -12.325 c 3.4 -0.475 15.15 -0.4 21 0.15 c 4.9 0.45 13.075 1.45 15.7 1.925 l 1.55 0.275 l 0 16.35 l 0 16.35 l -9.125 0 c -5.025 0 -10.225 0.125 -11.55 0.275 c -10.675 1.175 -16.8 7.325 -17.825 17.875 c -0.125 1.35 -0.25 8.125 -0.25 15.025 l 0 12.575 l 18.5 0 c 17.45 0 18.5 0.025 18.5 0.425 c -0.025 0.25 -1.325 8.95 -2.95 19.325 l -2.925 18.875 l -15.55 0.075 l -15.575 0.05 l 0 46.5 c 0 45.925 0 46.5 0.475 46.5 c 0.275 0 2.225 -0.35 4.325 -0.75 c 22.525 -4.475 42.375 -14 60.325 -28.925 c 3.9 -3.225 12.1 -11.35 15.5 -15.325 c 17.35 -20.375 27.85 -44.575 31.15 -71.725 c 0.65 -5.4 0.925 -18.45 0.5 -24.325 c -1.9 -25.925 -11 -50.275 -26.475 -70.8 c -5.3 -7.025 -14.625 -16.85 -21.05 -22.15 c -22.125 -18.3 -47.85 -28.65 -76.5 -30.75 c -3.975 -0.3 -14.65 -0.275 -18.75 0.025 z"></path></svg></a></div><p class="footer_copyright__tNmHq">Copyright © 2021 Sveinn Thorarinsson</p></div></div></section></section></main></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{}},"page":"/project/ant-foraging-simulation","query":{},"buildId":"AcIFAt5rZxeLoIEuAn430","nextExport":true,"autoExport":true,"isFallback":false,"scriptLoader":[]}</script></body></html>